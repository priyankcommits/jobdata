{% extends 'crawler/base.html' %}
{% block content %}
<script>
window.onload = function() {
var canvas = document.getElementById('myChart');
canvas.width  = 400;
canvas.height = 400;

var ctx = document.getElementById("myChart");
var data = {
  labels: [ {% for count, value in counts.items %}
            "{{count}}",
            {% endfor %}
    ],
    datasets: [
        {
            label: "Jobs Per Date",
            fill: false,
            lineTension: 0.1,
            backgroundColor: "rgba(75,192,192,0.4)",
            borderColor: "rgba(75,192,192,1)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "rgba(75,192,192,1)",
            pointBackgroundColor: "#fff",
            pointBorderWidth: 1,
            pointHoverRadius: 5,
            pointHoverBackgroundColor: "rgba(75,192,192,1)",
            pointHoverBorderColor: "rgba(220,220,220,1)",
            pointHoverBorderWidth: 2,
            pointRadius: 1,
            pointHitRadius: 10,
            data: [ {% for count, value in counts.items %}
            {{value}},
            {% endfor %}
            ],
        }
    ]
};
var myBarChart = new Chart(ctx, {
    type: "line",
    data: data,
    options: {
        responsive: true,
        maintainAspectRatio: false,

        }
});
}
</script>
<div class="col-lg-12 nopadding" style="margin-bottom:20px;">
  <canvas id="myChart" class="chardiv"></canvas>
</div>
{% for date in counts %}
<div class="col-lg-3 center-block text-center">
  <a href="{% url 'crawler:job_details_files' crawler=crawler_id date=date %}" class="custom">
    <span class="center-block text-center fa fa-folder fa-3x bluetext"></span> </a><br/>
  <h4 class="text-center blacktext"><a href="{% url 'crawler:job_details_files' crawler=crawler_id date=date %}" class="custom">{{date}}</a></h4>
  </div>
  {% endfor %}
  {% endblock content %}
